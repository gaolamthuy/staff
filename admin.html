<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Panel</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="flex items-center justify-center min-h-screen bg-gradient-to-r from-yellow-400 to-orange-400 p-4"
  >
    <div class="bg-white shadow-xl rounded-xl p-6 max-w-md w-full text-center">
      <!-- Avatar -->
      <img
        src="/assets/logo-main.png"
        alt="Logo"
        class="w-24 h-24 mx-auto mb-4"
      />

      <!-- Date Selector -->
      <h2 class="text-lg font-bold mb-2">Select changelog date to print</h2>
      <input
        type="date"
        id="dateSelector"
        class="border-2 border-gray-300 rounded-lg p-2 w-full mb-4 text-center"
      />

      <!-- Button -->
      <button
        id="submitButton"
        class="bg-blue-500 text-white font-semibold py-2 rounded-lg w-full disabled:bg-gray-300 disabled:cursor-not-allowed"
        disabled
        onclick="openWebhook()"
      >
        Submit
      </button>
    </div>

    <!-- JavaScript to Handle Button Click -->
    <script>
      const dateInput = document.getElementById("dateSelector");
      const button = document.getElementById("submitButton");

      dateInput.addEventListener("change", () => {
        button.disabled = !dateInput.value;
      });

      function openWebhook() {
        if (!dateInput.value) return;
        const selectedDate = dateInput.value;
        window.open(
          `https://n8n.gaolamthuy.vn/webhook/docprint?type=changelog&date=${selectedDate}`,
          "_blank"
        );
      }
    </script>
  </body>
</html>
